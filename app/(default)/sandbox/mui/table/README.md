# Advanced MUI Table Component

MCP (Model Context Protocol) を活用してリファクタリングした、最新のReact 19 + MUIテーブルコンポーネント実装

## 🚀 実装済み機能

### ✅ 基本機能
- **ページネーション機能**: 5, 10, 25, 50行の表示オプション
- **チェックボックス行選択機能**: 個別行選択 + 全選択/全解除
- **ラジオボタン選択機能**: 単一行選択
- **行クリック選択機能**: 行全体をクリックして選択
- **ソート機能**: ID、名前、年齢、部署でソート（昇順/降順）
- **フィルター機能**: 名前、部署、ステータスでのリアルタイムフィルタリング
- **スクロール機能**: 固定ヘッダー付きの縦スクロール

### ✅ 高度な機能
- **セルにコンポーネント埋め込み**: ボタン、チップ、フォーム要素など
- **セルスタイルカスタマイズ**: 選択状態やステータスに応じた背景色
- **アクセシビリティ対応**: ARIA属性、キーボードナビゲーション
- **型安全性**: TypeScriptによる完全な型付け
- **パフォーマンス最適化**: useMemo、useCallbackによる最適化

## 🏗️ アーキテクチャ

### カスタムフック
- `useTableData`: データ管理、フィルタリング、ソート
- `useTableSelection`: 選択状態管理（チェックボックス、ラジオ）
- `useTablePagination`: ページネーション管理

### コンポーネント構成
```
page.tsx (メインコンポーネント)
├── components/
│   ├── TableFilters.tsx (フィルターUI)
│   ├── SelectionInfo.tsx (選択情報表示)
│   ├── EnhancedTableHead.tsx (テーブルヘッダー)
│   ├── EnhancedTableRow.tsx (テーブル行)
│   ├── ActionButtons.tsx (アクションボタン)
│   ├── StatusChip.tsx (ステータスチップ)
│   └── StyledTableCell.tsx (スタイル付きセル)
├── hooks/
│   ├── useTableData.ts
│   ├── useTableSelection.ts
│   └── useTablePagination.ts
└── types/
    └── index.ts (型定義)
```

## 🎯 MCP リファクタリングのポイント

### 1. 関心の分離
- 状態管理をカスタムフックに分離
- UIコンポーネントを小さな単位に分割
- 型定義を別ファイルで管理

### 2. 再利用性の向上
- 各コンポーネントが独立して動作
- プロップスベースの設計
- 型安全な API

### 3. パフォーマンス最適化
- メモ化による不要な再レンダリング防止
- イベントハンドラーの最適化
- 効率的な状態更新

### 4. アクセシビリティ
- 適切なARIA属性
- セマンティックなHTML構造
- キーボードサポート

### 5. 開発体験の向上
- 型安全性による開発時エラー検出
- 明確なコンポーネント境界
- 保守しやすいコード構造

## 🛠️ 使用技術

- **React 19**: 最新のReact機能を活用
- **MUI (Material-UI)**: マテリアルデザインコンポーネント
- **TypeScript**: 型安全性とDX向上
- **Custom Hooks**: 状態管理とロジックの分離

## 📈 パフォーマンス特性

- **初期レンダリング**: 100行のデータを効率的に処理
- **フィルタリング**: リアルタイムでの高速検索
- **ソート**: O(n log n)の効率的なソートアルゴリズム
- **ページネーション**: 大量データに対応した分割表示

## 🔧 カスタマイズポイント

1. **データソース**: `useTableData`フックでAPI連携可能
2. **スタイリング**: `StyledTableCell`でテーマカスタマイズ
3. **アクション**: `ActionButtons`で独自操作追加
4. **フィルター**: `TableFilters`で検索条件拡張
5. **選択動作**: `useTableSelection`で選択ロジック変更

この実装は、MCPの原則に従って保守性、拡張性、パフォーマンスを重視した設計となっています。
